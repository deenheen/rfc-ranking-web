<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>RFC ë­í‚¹ ë§¤ë‹ˆì € (v3.4 Memo)</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700;800&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
Â  Â  Â  Â  .rank-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
Â  Â  Â  Â  .highlight-change { animation: highlightPulse 2s ease-out; background-color: #fef9c3; border-left: 4px solid #facc15; }
Â  Â  Â  Â  @keyframes highlightPulse { 0% { transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); } 100% { transform: scale(1); box-shadow: none; } }
Â  Â  Â  Â  .rank-up { color: #dc2626; font-weight: 800; } .rank-down { color: #2563eb; font-weight: 800; } .rank-keep { color: #9ca3af; }
Â  Â  Â  Â  .style-checkbox:checked + label { background-color: #3b82f6; color: white; border-color: #3b82f6; }
Â  Â  Â  Â  .tab-btn { @apply text-slate-500 border-b-2 border-transparent hover:text-slate-700 font-medium transition-colors; }
Â  Â  Â  Â  .tab-btn.active { @apply text-blue-600 border-blue-600 font-bold; }
Â  Â  Â  Â  ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-track { background: #f1f1f1; } ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; } ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
Â  Â  </style>
</head>
<body class="text-slate-800">

Â  Â  <div id="loginOverlay" class="fixed inset-0 bg-slate-900/95 z-50 flex items-center justify-center backdrop-blur-sm">
Â  Â  Â  Â  <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-sm text-center border border-slate-200">
Â  Â  Â  Â  Â  Â  <div class="text-4xl mb-2">ğŸ¥Š</div>
Â  Â  Â  Â  Â  Â  <h2 class="text-2xl font-black text-slate-800 mb-6">RFC Admin v3.4</h2>
Â  Â  Â  Â  Â  Â  <input type="email" id="adminEmail" placeholder="admin@rfc.com" class="w-full p-3 border border-slate-300 rounded-lg mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-slate-50 transition">
Â  Â  Â  Â  Â  Â  <input type="password" id="adminPw" placeholder="Password" class="w-full p-3 border border-slate-300 rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-slate-50 transition">
Â  Â  Â  Â  Â  Â  <button id="btnLogin" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3.5 rounded-lg transition transform active:scale-95 shadow-lg shadow-blue-500/30">ì‹œìŠ¤í…œ ì ‘ì†</button>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="mainContent" class="max-w-6xl mx-auto p-4 hidden min-h-screen flex flex-col">
Â  Â  Â  Â  <header class="flex flex-col md:flex-row justify-between items-center mb-4 bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  <h1 class="text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600">RFC ë§¤ë‹ˆì €</h1>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="currentSeasonBadge" class="bg-slate-800 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md">Loading...</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span id="saveStatus" class="text-xs font-medium text-emerald-500 transition-opacity opacity-0">âœ… ì €ì¥ë¨</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="mt-2 md:mt-0 text-xs text-slate-400 font-medium">Rule Editor & Memo Added</div>
Â  Â  Â  Â  </header>

Â  Â  Â  Â  <div class="bg-white rounded-t-2xl border-b border-slate-200 px-4 flex gap-6 mb-4 shadow-sm overflow-x-auto">
Â  Â  Â  Â  Â  Â  <button onclick="switchTab('main')" id="tabMain" class="tab-btn active py-4 whitespace-nowrap">ğŸ”¥ ë­í‚¹/ê²½ê¸°</button>
Â  Â  Â  Â  Â  Â  <button onclick="switchTab('season')" id="tabSeason" class="tab-btn py-4 whitespace-nowrap">ğŸ“… ì‹œì¦Œ ê´€ë¦¬</button>
Â  Â  Â  Â  Â  Â  <button onclick="switchTab('tools')" id="tabTools" class="tab-btn py-4 whitespace-nowrap">ğŸ› ï¸ ë°ì´í„°/ë°±ì—…</button>
Â  Â  Â  Â  Â  Â  <button onclick="switchTab('settings')" id="tabSettings" class="tab-btn py-4 whitespace-nowrap">âš™ï¸ ì„¤ì •/ë©”ëª¨</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 flex-grow">
Â  Â  Â  Â  Â  Â  <div class="lg:col-span-4 space-y-6">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="mainSection" class="tab-content">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden mb-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-slate-50 p-4 border-b border-slate-100 flex justify-between items-center"><h3 class="font-bold text-slate-700">âš”ï¸ ê²½ê¸° ê²°ê³¼ ì…ë ¥</h3></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="p-5">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="block text-xs font-bold text-blue-600 mb-1 pl-1">ğŸ”µ Blue</label><select id="p1Select" class="w-full text-sm border-slate-200 rounded-lg p-2.5 bg-blue-50/50 outline-none"></select></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="block text-xs font-bold text-red-600 mb-1 pl-1">ğŸ”´ Red</label><select id="p2Select" class="w-full text-sm border-slate-200 rounded-lg p-2.5 bg-red-50/50 outline-none"></select></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-3 bg-slate-50 p-2 rounded-xl border border-slate-200">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="cursor-pointer flex flex-col items-center gap-1 p-3 rounded-lg hover:bg-blue-100 transition border border-transparent has-[:checked]:bg-blue-100 has-[:checked]:border-blue-300"><input type="radio" name="winner" value="blue" class="w-5 h-5 accent-blue-600"><span class="text-sm font-bold text-blue-600">Blue ìŠ¹</span></label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label class="cursor-pointer flex flex-col items-center gap-1 p-3 rounded-lg hover:bg-red-100 transition border border-transparent has-[:checked]:bg-red-100 has-[:checked]:border-red-300"><input type="radio" name="winner" value="red" class="w-5 h-5 accent-red-600"><span class="text-sm font-bold text-red-600">Red ìŠ¹</span></label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="matchPreview" class="bg-gray-50 rounded-lg p-3 text-xs text-gray-600 border border-gray-200 hidden"><div id="previewContent" class="space-y-1"></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="applyMatch()" class="w-full bg-gradient-to-r from-slate-800 to-slate-900 hover:from-black text-white font-bold py-3 rounded-xl shadow-lg transition transform active:scale-95">ê²½ê¸° í™•ì •</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-slate-700 mb-4 border-b pb-2">ğŸ‘¤ ì„ ìˆ˜ ê´€ë¦¬ ë„êµ¬</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="addNewPlayer()" class="w-full bg-emerald-50 text-emerald-600 hover:bg-emerald-100 font-bold py-3 rounded-xl border border-emerald-100 mb-3 transition">+ ìƒˆ ì„ ìˆ˜ ë“±ë¡</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-orange-50 border border-orange-200 rounded-xl p-3 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mb-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 class="text-xs font-bold text-orange-700">ğŸ’€ íŒ¨ë„í‹° ë¶€ì—¬ (-30ì )</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select id="penaltyTargetSelect" class="w-full text-xs border border-orange-200 rounded p-2 focus:outline-none bg-white">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="">ëŒ€ìƒ ì„ íƒ...</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="applyManualPenalty()" class="bg-white text-orange-700 font-bold px-3 py-2 rounded-lg text-xs border border-orange-200 transition hover:bg-orange-100 whitespace-nowrap">ì‹¤í–‰</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateRankBaseline()" class="w-full bg-slate-100 text-slate-600 hover:bg-slate-200 font-bold py-3 rounded-xl text-xs transition">ğŸ“‰ ìˆœìœ„ ë³€ë™(â–²â–¼) ë¦¬ì…‹</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="seasonSection" class="tab-content hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5"><h3 class="font-bold text-slate-700 mb-3 border-b pb-2">ğŸ“… ì‹œì¦Œ ëª©ë¡</h3><div id="seasonListContainer" class="space-y-2 max-h-60 overflow-y-auto mb-2"></div><p class="text-[10px] text-slate-400 mt-2">* ëª©ë¡ì—ì„œ ì‚­ì œí•˜ë©´ ì‚¬ìš©ì í™”ë©´ì—ì„œë„ ì¦‰ì‹œ ì‚¬ë¼ì§‘ë‹ˆë‹¤.</p></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5"><div class="flex justify-between items-center mb-2"><h3 class="font-bold text-slate-700">ğŸ˜´ ë¯¸ì°¸ì—¬ ì„ ìˆ˜</h3><span id="seasonInactiveCount" class="bg-slate-100 text-slate-600 text-xs font-bold px-2 py-1 rounded">0ëª…</span></div><div class="text-xs text-slate-500 mb-3">í˜„ì¬ ì‹œì¦Œ(<span class="currentSeasonName font-bold"></span>) ê²½ê¸° ê¸°ë¡ ì—†ìŒ</div><button onclick="toggleInactiveList()" class="text-xs text-blue-500 font-bold underline mb-2">ëª©ë¡ ë³´ê¸°/ìˆ¨ê¸°ê¸°</button><ul id="seasonInactiveList" class="hidden bg-slate-50 p-2 rounded text-xs text-slate-600 space-y-1 mb-3 max-h-40 overflow-y-auto border border-slate-200"></ul></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-purple-50 rounded-2xl shadow-sm border border-purple-100 overflow-hidden p-5"><h3 class="font-bold text-purple-800 mb-2">ğŸš€ ì‹œì¦Œ ì¢…ë£Œ ë° ì‹œì‘</h3><p class="text-xs text-purple-600 mb-4">í˜„ì¬ ì‹œì¦Œì„ ë§ˆê°í•˜ê³  ìƒˆ ì‹œì¦Œì„ ì‹œì‘í•©ë‹ˆë‹¤.</p><div class="flex gap-2"><input type="text" id="newSeasonNameInput" class="flex-grow border border-purple-200 rounded-lg p-2 text-sm focus:outline-none focus:border-purple-400" placeholder="ìƒˆ ì‹œì¦Œ ì´ë¦„"><button onclick="finishAndStartNewSeason()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold px-4 py-2 rounded-lg text-xs shadow transition whitespace-nowrap">ì‹œì¦Œ ì‹œì‘</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="toolsSection" class="tab-content hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5 space-y-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-slate-700">ğŸ› ï¸ ë°ì´í„° ë„êµ¬</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-2"><input type="file" id="importFile" accept=".json" class="hidden"><button onclick="document.getElementById('importFile').click()" class="bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-lg text-xs">ğŸ“‚ ë°ì´í„° ë³µì›</button><button onclick="backupData()" class="bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-3 rounded-lg text-xs">ğŸ’¾ ë°ì´í„° ë°±ì—…</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="pt-4 border-t border-slate-100 space-y-2"><h4 class="text-xs font-bold text-red-500">ì´ˆê¸°í™” (ì£¼ì˜)</h4><button onclick="resetAllStats()" class="w-full bg-gray-50 text-gray-500 hover:bg-gray-100 font-bold py-2 rounded-lg text-xs border border-gray-200">ğŸ“Š í˜„ì¬ ì‹œì¦Œ ì „ì  ì´ˆê¸°í™”</button><button onclick="resetAllElo()" class="w-full bg-gray-50 text-gray-500 hover:bg-gray-100 font-bold py-2 rounded-lg text-xs border border-gray-200">âš¡ í˜„ì¬ ì‹œì¦Œ ELO ì´ˆê¸°í™”</button><button onclick="resetEverything()" class="w-full bg-red-50 text-red-600 hover:bg-red-100 font-bold py-3 rounded-lg text-xs border border-red-200 mt-2">ğŸ§¨ ì‹œìŠ¤í…œ ì „ì²´ ë¦¬ì…‹</button></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="settingsSection" class="tab-content hidden">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="space-y-6">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-slate-700 mb-2">ğŸ“œ ë­í‚¹ ê·œì¹™ í¸ì§‘</h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-slate-400 mb-3">ì‚¬ìš©ì ì‚¬ì´íŠ¸ì— í‘œì‹œë  ê·œì¹™ ë‚´ìš©ì„ ì‘ì„±í•˜ì„¸ìš”. (ì¤„ë°”ê¿ˆ ë°˜ì˜ë¨)</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="ruleTextInput" class="w-full h-40 p-3 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-slate-50 resize-none mb-3" placeholder="ì˜ˆ: ìŠ¹ë¦¬ ì‹œ +10ì , 5ì¼ ë¯¸í™œë™ ì‹œ ì°¨ê°..."></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="saveRules()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 rounded-lg text-xs transition">ê·œì¹™ ì €ì¥í•˜ê¸°</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden p-5 flex flex-col h-[400px]">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h3 class="font-bold text-slate-700 mb-3 flex justify-between">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ğŸ“ ê´€ë¦¬ì ë©”ëª¨ì¥
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-[10px] font-normal text-slate-400">ê´€ë¦¬ìê°„ ê³µìœ ìš©</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="memoListContainer" class="flex-grow overflow-y-auto space-y-2 mb-3 pr-1 bg-slate-50 rounded-lg p-2 border border-slate-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-center text-xs text-gray-400 py-4">ì‘ì„±ëœ ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex gap-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="newMemoInput" class="flex-grow border border-slate-200 rounded-lg p-2.5 text-sm focus:outline-none focus:border-blue-500" placeholder="ë©”ì„¸ì§€ ë‚¨ê¸°ê¸°..." onkeypress="if(event.key==='Enter') addMemo()">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="addMemo()" class="bg-slate-800 hover:bg-slate-900 text-white font-bold px-4 rounded-lg text-xs transition whitespace-nowrap">ë“±ë¡</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="lg:col-span-8 bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col h-[calc(100vh-140px)]">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-slate-50 p-4 border-b border-slate-100 flex justify-between items-center rounded-t-2xl"><div><h3 class="font-bold text-slate-700">ğŸ”¥ ì‹¤ì‹œê°„ ë­í‚¹</h3><p class="text-[10px] text-slate-400 font-medium mt-0.5">í˜„ì¬ í™œì„± ì‹œì¦Œ: <span class="currentSeasonName text-blue-600 font-bold"></span></p></div><div class="flex gap-2"><button onclick="window.open('index.html')" class="bg-white border border-slate-200 text-slate-600 text-xs font-bold py-2 px-3 rounded-lg hover:bg-slate-50">ğŸŒ ì‚¬ì´íŠ¸ ë³´ê¸°</button><button onclick="saveRankings()" class="bg-indigo-600 text-white text-xs font-bold py-2 px-3 rounded-lg shadow hover:bg-indigo-700">ğŸ’¾ ì €ì¥</button></div></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="rankingList" class="flex-grow overflow-y-auto p-2 space-y-1.5 bg-slate-50/50"></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <div id="editModal" class="fixed inset-0 bg-black/50 hidden z-[9999] flex items-center justify-center">
Â  Â  Â  Â  <div class="bg-white rounded-xl shadow-2xl p-6 w-11/12 max-w-lg max-h-[90vh] overflow-y-auto">
Â  Â  Â  Â  Â  Â  <h3 class="text-lg font-bold text-slate-800 mb-4 border-b pb-2">âœï¸ ì„ ìˆ˜ ì •ë³´ ìˆ˜ì •</h3>
Â  Â  Â  Â  Â  Â  <input type="hidden" id="editPlayerId"><input type="hidden" id="editOriginalName">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-3 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-500 block mb-1">ì´ë¦„</label><input type="text" id="editName" class="w-full border p-2 rounded text-sm font-bold"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-500 block mb-1">ë°©ì–´ì „ íšŸìˆ˜ (ë¯¸ì‚¬ìš©)</label><input type="number" id="editDefenses" class="w-full border p-2 rounded text-sm bg-gray-100 text-gray-400" disabled></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-3 gap-2 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â <div><label class="text-xs text-gray-500 block mb-1">Game ID</label><input type="text" id="editGameId" class="w-full border p-2 rounded text-sm" placeholder="ID ì…ë ¥"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â <div><label class="text-xs text-gray-500 block mb-1 font-bold text-blue-600">ë¹„ë°€ë²ˆí˜¸</label><input type="text" id="editPassword" class="w-full border p-2 rounded text-sm font-mono font-bold bg-blue-50 text-blue-700" placeholder="0000"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â <div><label class="text-xs text-gray-500 block mb-1">ELO (ìˆ˜ë™)</label><input type="number" id="editElo" class="w-full border p-2 rounded text-sm text-amber-600 font-bold bg-amber-50"></div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="mb-3 p-3 bg-gray-50 rounded border border-gray-200">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="block text-xs font-bold text-gray-600 mb-2">ğŸ“Š ì‹œì¦Œ ì „ì  ìˆ˜ë™ ì¡°ì ˆ</label>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-400">ìŠ¹ (Wins)</label><input type="number" id="editWins" class="w-full border p-2 rounded text-sm text-center font-bold text-green-600"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-400">íŒ¨ (Losses)</label><input type="number" id="editLosses" class="w-full border p-2 rounded text-sm text-center font-bold text-red-600"></div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  <label class="text-xs text-gray-500 block mb-1">í”„ë¡œí•„ ì´ë¯¸ì§€ (íŒŒì¼ ì—…ë¡œë“œ)</label>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center gap-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="relative w-16 h-16 shrink-0">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <img id="previewImage" src="" class="w-full h-full rounded-2xl object-cover border border-gray-200 bg-gray-50">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeImage()" class="absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 shadow-sm hover:bg-red-600" title="ì‚­ì œ"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg></button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex-grow">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="file" id="editImageFile" accept="image/*" class="block w-full text-xs text-gray-500 file:mr-2 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-[10px] text-gray-400 mt-1">* 500px ìë™ ë¦¬ì‚¬ì´ì§•</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="hidden" id="editImageUrl">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-3 gap-3 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-500 block mb-1">í‚¤ (cm)</label><input type="text" id="editHeight" class="w-full border p-2 rounded text-sm"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-500 block mb-1">ë¦¬ì¹˜ (cm)</label><input type="text" id="editReach" class="w-full border p-2 rounded text-sm"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <div><label class="text-xs text-gray-500 block mb-1">ìŠ¤íƒ ìŠ¤</label><select id="editStance" class="w-full border p-2 rounded text-sm bg-white"><option value="Orthodox">Orthodox</option><option value="Southpaw">Southpaw</option><option value="Switch">Switch</option></select></div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="mb-6 p-3 bg-slate-50 rounded border border-slate-200"><label class="block text-xs font-bold text-slate-600 mb-2">ğŸ¥Š ìŠ¤íƒ€ì¼ íƒœê·¸</label><div id="styleTagsContainer" class="flex flex-wrap gap-2"></div></div>
Â  Â  Â  Â  Â  Â  <div class="flex justify-end gap-2"><button onclick="document.getElementById('editModal').classList.add('hidden')" class="bg-gray-100 text-gray-600 hover:bg-gray-200 px-4 py-2 rounded-lg text-sm font-bold transition">ì·¨ì†Œ</button><button onclick="savePlayerDetails()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-bold shadow transition">ì €ì¥í•˜ê¸°</button></div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â  <script type="module">
Â  Â  Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
Â  Â  Â  Â  import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
Â  Â  Â  Â  import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

Â  Â  Â  Â  const firebaseConfig = { apiKey: "AIzaSyDlj68ex-fM0ExRdD-tvCy-UyIneVoPmGk", authDomain: "rfk-ranking.firebaseapp.com", projectId: "rfk-ranking", storageBucket: "rfk-ranking.firebasestorage.app", messagingSenderId: "675366165774", appId: "1:675366165774:web:795d34c56eab630b4dcb5f", measurementId: "G-CXPDZQ8GTL" };
Â  Â  Â  Â  const app = initializeApp(firebaseConfig); const db = getFirestore(app); const auth = getAuth(app); const appId = 'ranking-manager-default';
Â  Â  Â  Â Â 
Â  Â  Â  Â  let rankingsData = [];Â 
Â  Â  Â  Â  let matchHistoryData = [];Â 
Â  Â  Â  Â  let seasonArchives = {};Â 
Â  Â  Â  Â  let activeSeason = "ì‹œì¦Œ 1";
Â  Â  Â  Â Â 
Â  Â  Â  Â  // [New Data Fields]
Â  Â  Â  Â  let ruleText = "ê·œì¹™ì´ ì•„ì§ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
Â  Â  Â  Â  let adminMemos = [];Â 

Â  Â  Â  Â  const STYLE_OPTIONS = ["ì¸íŒŒì´í„°", "ì•„ì›ƒë³µì„œ", "ìŠ¬ëŸ¬ê±°", "ì¹´ìš´í„°", "ìŠ¤ì›Œë¨¸", "í•˜ë“œí€ì²˜", "í…Œí¬ë‹ˆì…˜", "ë§·ì§‘ì™•", "ë³€ì¹™"];

Â  Â  Â  Â  document.getElementById('btnLogin').addEventListener('click', () => { const email = document.getElementById('adminEmail').value; const pw = document.getElementById('adminPw').value; signInWithEmailAndPassword(auth, email, pw).catch((e) => alert("ë¡œê·¸ì¸ ì‹¤íŒ¨: " + e.message)); });
Â  Â  Â  Â  onAuthStateChanged(auth, (user) => { if (user) { document.getElementById('loginOverlay').classList.add('hidden'); document.getElementById('mainContent').classList.remove('hidden'); loadData(); } });

Â  Â  Â  Â  function loadData() {
Â  Â  Â  Â  Â  Â  const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'rankings', 'main');
Â  Â  Â  Â  Â  Â  onSnapshot(docRef, (doc) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (doc.exists()) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = doc.data();Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rankingsData = data.rankings || [];Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matchHistoryData = data.matchHistory || [];Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  seasonArchives = data.seasonArchives || {};Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  activeSeason = data.activeSeason || "ì‹œì¦Œ 1";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [Load New Data]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ruleText = data.ruleText || "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  adminMemos = data.adminMemos || [];

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSeasonUI();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Init Settings UI
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('ruleTextInput').value = ruleText;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderMemos();

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rankingsData.forEach((p, i) => { if(p.defenseCount === undefined) p.defenseCount = 0; if(p.previousRank === undefined) p.previousRank = i + 1; if(p.careerHighRank === undefined) p.careerHighRank = i + 1; if(p.elo === undefined) p.elo = 1000; if(p.careerHighElo === undefined) p.careerHighElo = p.elo; });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rankingsData.sort((a, b) => b.elo - a.elo); renderRankings(); populateMatchSelectors();Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderSeasonList(); checkSeasonInactive();
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  window.saveRankings = async function() {
Â  Â  Â  Â  Â  Â  const statusEl = document.getElementById('saveStatus'); const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'rankings', 'main');
Â  Â  Â  Â  Â  Â  try {Â 
Â  Â  Â  Â  Â  Â  Â  Â  const now = new Date(); const kstDate = new Date(now.getTime() + (9 * 60 * 60 * 1000)).toISOString().split('T')[0];Â 
Â  Â  Â  Â  Â  Â  Â  Â  await setDoc(docRef, {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  rankings: rankingsData,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  matchHistory: matchHistoryData,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  seasonArchives: seasonArchives,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  activeSeason: activeSeason,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  date: kstDate,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [Save New Data]
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ruleText: ruleText,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  adminMemos: adminMemos
Â  Â  Â  Â  Â  Â  Â  Â  }, { merge: false });Â 
Â  Â  Â  Â  Â  Â  Â  Â  statusEl.style.opacity = 1; setTimeout(() => statusEl.style.opacity = 0, 2000);Â 
Â  Â  Â  Â  Â  Â  } catch (e) { alert("ì €ì¥ ì˜¤ë¥˜: " + e.message); }
Â  Â  Â  Â  }

Â  Â  Â  Â  // -----------------------------------------------------------
Â  Â  Â  Â  // [New Features] Rule & Memo Functions
Â  Â  Â  Â  // -----------------------------------------------------------
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 1. Rule Editor
Â  Â  Â  Â  window.saveRules = () => {
Â  Â  Â  Â  Â  Â  const txt = document.getElementById('ruleTextInput').value;
Â  Â  Â  Â  Â  Â  if(!confirm("ê·œì¹™ ë‚´ìš©ì„ ì €ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì‚¬ìš©ì ì‚¬ì´íŠ¸ì— ë°˜ì˜ë¨)")) return;
Â  Â  Â  Â  Â  Â  ruleText = txt;
Â  Â  Â  Â  Â  Â  saveRankings();
Â  Â  Â  Â  Â  Â  alert("ê·œì¹™ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
Â  Â  Â  Â  };

Â  Â  Â  Â  // 2. Admin Memos
Â  Â  Â  Â  window.addMemo = () => {
Â  Â  Â  Â  Â  Â  const input = document.getElementById('newMemoInput');
Â  Â  Â  Â  Â  Â  const content = input.value.trim();
Â  Â  Â  Â  Â  Â  if (!content) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const today = new Date().toLocaleString('ko-KR', { month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit' });
Â  Â  Â  Â  Â  Â  adminMemos.unshift({ id: Date.now(), content: content, date: today });
Â  Â  Â  Â  Â  Â  input.value = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  saveRankings();
Â  Â  Â  Â  Â  Â  renderMemos();
Â  Â  Â  Â  };

Â  Â  Â  Â  window.deleteMemo = (id) => {
Â  Â  Â  Â  Â  Â  if(!confirm("ì´ ë©”ëª¨ë¥¼ ì‚­ì œí•©ë‹ˆê¹Œ?")) return;
Â  Â  Â  Â  Â  Â  adminMemos = adminMemos.filter(m => m.id !== id);
Â  Â  Â  Â  Â  Â  saveRankings();
Â  Â  Â  Â  Â  Â  renderMemos();
Â  Â  Â  Â  };

Â  Â  Â  Â  function renderMemos() {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('memoListContainer');
Â  Â  Â  Â  Â  Â  if(adminMemos.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  container.innerHTML = '<div class="text-center text-xs text-gray-400 py-4">ì‘ì„±ëœ ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  container.innerHTML = '';
Â  Â  Â  Â  Â  Â  adminMemos.forEach(m => {
Â  Â  Â  Â  Â  Â  Â  Â  const el = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  el.className = 'bg-white border border-slate-200 rounded p-2 text-sm shadow-sm flex justify-between items-start group';
Â  Â  Â  Â  Â  Â  Â  Â  el.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-[10px] text-slate-400 font-medium mb-0.5">${m.date}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-slate-700 whitespace-pre-wrap">${m.content}</div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="deleteMemo(${m.id})" class="text-slate-300 hover:text-red-500 text-xs px-1 opacity-0 group-hover:opacity-100 transition">âœ•</button>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(el);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  // Image Handling (With Safety Check)
Â  Â  Â  Â  const fileInput = document.getElementById('editImageFile');
Â  Â  Â  Â  if (fileInput) {
Â  Â  Â  Â  Â  Â  fileInput.addEventListener('change', function(e) {
Â  Â  Â  Â  Â  Â  Â  Â  const file = e.target.files[0];
Â  Â  Â  Â  Â  Â  Â  Â  if (!file) return;
Â  Â  Â  Â  Â  Â  Â  Â  const reader = new FileReader();
Â  Â  Â  Â  Â  Â  Â  Â  reader.onload = function(event) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const img = new Image();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.onload = function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const canvas = document.createElement('canvas');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const MAX_SIZE = 500;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let width = img.width; let height = img.height;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (width > height) { if (width > MAX_SIZE) { height *= MAX_SIZE / width; width = MAX_SIZE; } }Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  else { if (height > MAX_SIZE) { width *= MAX_SIZE / height; height = MAX_SIZE; } }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  canvas.width = width; canvas.height = height;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const ctx = canvas.getContext('2d');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ctx.drawImage(img, 0, 0, width, height);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dataUrl = canvas.toDataURL('image/jpeg', 0.8);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const urlInput = document.getElementById('editImageUrl');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const prevImg = document.getElementById('previewImage');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(urlInput) urlInput.value = dataUrl;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(prevImg) prevImg.src = dataUrl;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  img.src = event.target.result;
Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  reader.readAsDataURL(file);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  window.removeImage = () => {
Â  Â  Â  Â  Â  Â  const urlInput = document.getElementById('editImageUrl');
Â  Â  Â  Â  Â  Â  const prevImg = document.getElementById('previewImage');
Â  Â  Â  Â  Â  Â  const fileIn = document.getElementById('editImageFile');
Â  Â  Â  Â  Â  Â  if(urlInput) urlInput.value = '';
Â  Â  Â  Â  Â  Â  if(prevImg) prevImg.src = '';
Â  Â  Â  Â  Â  Â  if(fileIn) fileIn.value = '';
Â  Â  Â  Â  };

Â  Â  Â  Â  window.switchTab = (tab) => { document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden')); document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active')); document.getElementById(tab + 'Section').classList.remove('hidden'); document.getElementById('tab' + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.add('active'); };
Â  Â  Â  Â  function updateSeasonUI() { document.getElementById('currentSeasonBadge').textContent = activeSeason; document.querySelectorAll('.currentSeasonName').forEach(el => el.textContent = activeSeason); const num = parseInt(activeSeason.replace(/[^0-9]/g, '')) || 0; document.getElementById('newSeasonNameInput').value = `ì‹œì¦Œ ${num + 1}`; }
Â  Â  Â  Â  function renderSeasonList() { const container = document.getElementById('seasonListContainer'); container.innerHTML = ''; const seasons = [activeSeason, ...Object.keys(seasonArchives).sort().reverse().filter(s => s !== activeSeason)]; seasons.forEach(sName => { const isActive = sName === activeSeason; const div = document.createElement('div'); div.className = `flex justify-between items-center p-3 rounded-lg border ${isActive ? 'bg-blue-50 border-blue-300' : 'bg-white border-slate-200'}`; div.innerHTML = `<div class="flex items-center gap-2"><span class="${isActive ? 'text-blue-700 font-bold' : 'text-slate-600'} text-sm">${sName}</span>${isActive ? '<span class="text-[10px] bg-blue-600 text-white px-1.5 py-0.5 rounded">Active</span>' : ''}</div><div class="flex gap-1">${!isActive ? `<button onclick="switchActiveSeason('${sName}')" class="text-xs bg-slate-100 hover:bg-slate-200 text-slate-700 px-2 py-1 rounded border border-slate-200">ì„ íƒ</button>` : ''}<button onclick="renameSeason('${sName}')" class="text-xs bg-slate-100 hover:bg-slate-200 text-slate-500 px-2 py-1 rounded border border-slate-200">ì´ë¦„ë³€ê²½</button>${!isActive ? `<button onclick="deleteSeason('${sName}')" class="text-xs bg-red-50 hover:bg-red-100 text-red-500 px-2 py-1 rounded border border-red-100">ì‚­ì œ</button>` : ''}</div>`; container.appendChild(div); }); }
Â  Â  Â  Â  window.deleteSeason = (targetName) => { if (targetName === activeSeason) return alert("í˜„ì¬ í™œì„± ì‹œì¦Œì€ ì‚­ì œ ë¶ˆê°€"); if (!confirm(`[${targetName}] ë° ê¸°ë¡ ì‚­ì œ?`)) return; delete seasonArchives[targetName]; matchHistoryData = matchHistoryData.filter(m => m.season !== targetName); saveRankings().then(() => { renderSeasonList(); alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."); }); };
Â  Â  Â  Â  window.switchActiveSeason = (targetName) => { if (!confirm(`[${targetName}] ì „í™˜?`)) return; seasonArchives[activeSeason] = { rankings: JSON.parse(JSON.stringify(rankingsData)) }; const t = seasonArchives[targetName]; if (t) rankingsData = t.rankings || []; delete seasonArchives[targetName]; activeSeason = targetName; saveRankings(); alert("ì „í™˜ ì™„ë£Œ"); };
Â  Â  Â  Â  window.renameSeason = (old) => { const n = prompt("ìƒˆ ì´ë¦„:", old); if(!n||n===old)return; if(n===activeSeason||seasonArchives[n])return alert("ì¤‘ë³µ ì´ë¦„"); if(old===activeSeason)activeSeason=n; else { seasonArchives[n]=seasonArchives[old]; delete seasonArchives[old]; } matchHistoryData.forEach(m => { if(m.season===old) m.season=n; }); saveRankings(); };
Â  Â  Â  Â  window.finishAndStartNewSeason = () => { const n = document.getElementById('newSeasonNameInput').value.trim(); if(!n)return alert("ì´ë¦„ ì…ë ¥"); if(n===activeSeason||seasonArchives[n])return alert("ì¤‘ë³µ ì´ë¦„"); if(!confirm(`[${activeSeason}] ì¢…ë£Œ í›„ [${n}] ì‹œì‘?`))return; seasonArchives[activeSeason]={rankings:JSON.parse(JSON.stringify(rankingsData))}; activeSeason=n; rankingsData.forEach(p => { p.previousRank=p.rank||rankingsData.indexOf(p)+1; p.wins=0; p.losses=0; p.draws=0; p.defenseCount=0; p.elo=1000; }); saveRankings(); alert("ì‹œì‘ë¨"); };
Â  Â  Â  Â Â 
Â  Â  Â  Â  // -----------------------------------------------------------
Â  Â  Â  Â  // [RFC v3.3 Final] Logic Update
Â  Â  Â  Â  // -----------------------------------------------------------
Â  Â  Â  Â Â 
Â  Â  Â  Â  // í‹°ì–´ íŒì •
Â  Â  Â  Â  function getTierBonus(matchCount) {
Â  Â  Â  Â  Â  Â  if (matchCount < 5) { // 0~4 (Bronze)
Â  Â  Â  Â  Â  Â  Â  Â  return { winMult: 1.0, lossMult: 1.0, tier: 'ğŸ¥‰Bronze' };
Â  Â  Â  Â  Â  Â  } else if (matchCount < 9) { // 5~8 (Silver)
Â  Â  Â  Â  Â  Â  Â  Â  return { winMult: 1.1, lossMult: 0.9, tier: 'ğŸ¥ˆSilver' };
Â  Â  Â  Â  Â  Â  } else { // 9+ (Gold)
Â  Â  Â  Â  Â  Â  Â  Â  return { winMult: 1.2, lossMult: 0.8, tier: 'ğŸ¥‡Gold' };
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // ELO ê³„ì‚° (+10ì  ì°¸ì—¬ì ìˆ˜ ë¶€í™œ)
Â  Â  Â  Â  function calculateHybridEloChange(p1Elo, p2Elo, isWin, p1Stats) {
Â  Â  Â  Â  Â  Â  const matchCount = (p1Stats.wins || 0) + (p1Stats.losses || 0);
Â  Â  Â  Â  Â  Â  const K = 60; // ë³€ë™í­
Â  Â  Â  Â  Â  Â  const expected = 1 / (1 + Math.pow(10, (p2Elo - p1Elo) / 400));
Â  Â  Â  Â  Â  Â  const { winMult, lossMult, tier } = getTierBonus(matchCount);

Â  Â  Â  Â  Â  Â  let finalChange = 0;
Â  Â  Â  Â  Â  Â  let breakdown = "";

Â  Â  Â  Â  Â  Â  if (isWin) {
Â  Â  Â  Â  Â  Â  Â  Â  let baseGain = K * (1 - expected);
Â  Â  Â  Â  Â  Â  Â  Â  // [ì°¸ì—¬ì ìˆ˜ +10 ì¶”ê°€]
Â  Â  Â  Â  Â  Â  Â  Â  finalChange = (baseGain * winMult) + 10;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  breakdown = `${tier}ìŠ¹(x${winMult}) + 10`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  let baseLoss = K * (0 - expected); // ìŒìˆ˜
Â  Â  Â  Â  Â  Â  Â  Â  // [ì°¸ì—¬ì ìˆ˜ +10 ì¶”ê°€] -> ì†ì‹¤ì„ ì¤„ì—¬ì¤Œ
Â  Â  Â  Â  Â  Â  Â  Â  finalChange = (baseLoss * lossMult) + 10;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  breakdown = `${tier}íŒ¨(x${lossMult}) + 10`;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  return { change: Math.round(finalChange), msg: breakdown };
Â  Â  Â  Â  }

Â  Â  Â  Â  window.applyMatch = () => { const p1Idx = parseInt(document.getElementById('p1Select').value); const p2Idx = parseInt(document.getElementById('p2Select').value); const winnerVal = document.querySelector('input[name="winner"]:checked')?.value; if (!winnerVal || isNaN(p1Idx) || isNaN(p2Idx)) return alert("ì„ íƒ ì˜¤ë¥˜"); if (p1Idx === p2Idx) return alert("ë™ì¼ ì„ ìˆ˜"); const p1 = rankingsData[p1Idx]; const p2 = rankingsData[p2Idx]; const isBlueWin = winnerVal === 'blue'; const winner = isBlueWin ? p1 : p2; const loser = isBlueWin ? p2 : p1; const winCalc = calculateHybridEloChange(winner.elo, loser.elo, true, winner); const loseCalc = calculateHybridEloChange(loser.elo, winner.elo, false, loser); winner.elo += winCalc.change; loser.elo += loseCalc.change; if (winner.elo > (winner.careerHighElo || 0)) winner.careerHighElo = winner.elo; if (loser.elo > (loser.careerHighElo || 0)) loser.careerHighElo = loser.elo; let type = 'ranking'; winner.wins++; loser.losses++; const today = new Date().toISOString().split('T')[0]; winner.lastMatchDate = today; loser.lastMatchDate = today; rankingsData.sort((a, b) => b.elo - a.elo); matchHistoryData.unshift({ date: today, winner: isBlueWin ? p1.name : p2.name, loser: isBlueWin ? p2.name : p1.name, type, season: activeSeason, blue: p1.name }); saveRankings(); renderRankings(); alert(`ë°˜ì˜ ì™„ë£Œ!\n${winner.name}: +${winCalc.change}\n${loser.name}: ${loseCalc.change}`); };
Â  Â  Â  Â Â 
Â  Â  Â  Â  function updateMatchPreview() { const p1Val = document.getElementById('p1Select').value; const p2Val = document.getElementById('p2Select').value; if (p1Val === "" || p2Val === "" || p1Val === p2Val) { document.getElementById('matchPreview').classList.add('hidden'); return; } document.getElementById('matchPreview').classList.remove('hidden'); const p1 = rankingsData[parseInt(p1Val)]; const p2 = rankingsData[parseInt(p2Val)]; const blueWin = calculateHybridEloChange(p1.elo, p2.elo, true, p1); const redLose = calculateHybridEloChange(p2.elo, p1.elo, false, p2); const redWin = calculateHybridEloChange(p2.elo, p1.elo, true, p2); const blueLose = calculateHybridEloChange(p1.elo, p2.elo, false, p1); document.getElementById('previewContent').innerHTML = `<div class="font-bold text-blue-600">ğŸ”µ BlueìŠ¹: +${blueWin.change} / ğŸ”´ RedíŒ¨: ${redLose.change}</div><div class="font-bold text-red-600 mt-1">ğŸ”´ RedìŠ¹: +${redWin.change} / ğŸ”µ BlueíŒ¨: ${blueLose.change}</div>`; }
Â  Â  Â  Â  document.getElementById('p1Select').addEventListener('change', updateMatchPreview); document.getElementById('p2Select').addEventListener('change', updateMatchPreview);
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.resetAllElo = () => { if(!confirm("ELO 1000 ì´ˆê¸°í™”?")) return; rankingsData.forEach(p => p.elo = 1000); saveRankings(); renderRankings(); };
Â  Â  Â  Â  window.resetAllStats = () => { if(!confirm("ì „ì  0 ì´ˆê¸°í™”?")) return; rankingsData.forEach(p => { p.wins = 0; p.losses = 0; }); saveRankings(); renderRankings(); };
Â  Â  Â  Â  window.resetEverything = () => { if(!confirm("ğŸš¨ ì „ì²´ ë¦¬ì…‹?")) return; matchHistoryData = []; seasonArchives = {}; activeSeason = "ì‹œì¦Œ 1"; rankingsData.forEach(p => { p.wins=0; p.losses=0; p.defenseCount=0; p.elo=1000; p.careerHighElo=1000; }); saveRankings(); location.reload(); };
Â  Â  Â  Â  window.updateRankBaseline = () => { if(confirm("ë³€ë™í­ ë¦¬ì…‹?")) { rankingsData.forEach((p, i) => p.previousRank = i + 1); saveRankings(); renderRankings(); } };
Â  Â  Â  Â Â 
Â  Â  Â  Â  // [Key Change] Manual Penalty Implementation
Â  Â  Â  Â  window.applyManualPenalty = () => {
Â  Â  Â  Â  Â  Â  const idx = document.getElementById('penaltyTargetSelect').value;
Â  Â  Â  Â  Â  Â  if (idx === "") return alert("ì„ ìˆ˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const p = rankingsData[idx];
Â  Â  Â  Â  Â  Â  if (!confirm(`[${p.name}] ì„ ìˆ˜ì—ê²Œ íŒ¨ë„í‹°(-30ì )ë¥¼ ë¶€ì—¬í•©ë‹ˆê¹Œ?\ní˜„ì¬ ì ìˆ˜: ${p.elo}`)) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  p.elo -= 30;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  rankingsData.sort((a, b) => b.elo - a.elo);
Â  Â  Â  Â  Â  Â  saveRankings();
Â  Â  Â  Â  Â  Â  renderRankings();
Â  Â  Â  Â  Â  Â  alert(`[${p.name}] -30ì  ì°¨ê° ì™„ë£Œ.\ní˜„ì¬ ì ìˆ˜: ${p.elo}`);
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  function checkSeasonInactive() { const list = document.getElementById('seasonInactiveList'); list.innerHTML = ''; const m = matchHistoryData.filter(m => m.season === activeSeason); const an = new Set(); m.forEach(m => { an.add(m.winner); an.add(m.loser); }); const inact = rankingsData.filter(p => !an.has(p.name)); document.getElementById('seasonInactiveCount').textContent = inact.length + "ëª…"; inact.forEach(p => { list.innerHTML += `<li>${p.name}</li>`; }); }
Â  Â  Â  Â  window.toggleInactiveList = () => document.getElementById('seasonInactiveList').classList.toggle('hidden');
Â  Â  Â  Â  function renderRankings() { const list = document.getElementById('rankingList'); list.innerHTML = ''; rankingsData.forEach((item, index) => { const diff = (item.previousRank || (index + 1)) - (index + 1); let ch = diff > 0 ? `<span class="rank-up">â–²${diff}</span>` : (diff < 0 ? `<span class="rank-down">â–¼${Math.abs(diff)}</span>` : '<span class="rank-keep">-</span>'); list.innerHTML += `<div class="rank-card flex items-center p-3 border rounded-xl mb-2 bg-white hover:shadow-md"><div class="w-10 text-center mr-2"><span class="text-lg font-black text-slate-800">${index+1}</span><div class="text-[10px]">${ch}</div></div><div class="flex-grow"><div class="font-bold text-sm text-slate-800 flex items-center gap-2">${item.name} <span class="bg-amber-100 text-amber-800 text-xs px-1.5 rounded border border-amber-200">âš¡${item.elo}</span></div><div class="text-xs text-slate-500 mt-0.5">${item.wins}ìŠ¹ ${item.losses}íŒ¨</div></div><button onclick="openEditModal(${index})" class="p-2 text-slate-400 hover:text-blue-600">âœï¸</button></div>`; }); populateMatchSelectors(); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.populateMatchSelectors = () => {Â 
Â  Â  Â  Â  Â  Â  const s1 = document.getElementById('p1Select'); const s2 = document.getElementById('p2Select');Â 
Â  Â  Â  Â  Â  Â  const sPen = document.getElementById('penaltyTargetSelect'); // íŒ¨ë„í‹° ëŒ€ìƒ ì„ íƒ ì…€ë ‰í„°

Â  Â  Â  Â  Â  Â  let opts = '<option value="">ì„ ìˆ˜ ì„ íƒ</option>';Â 
Â  Â  Â  Â  Â  Â  rankingsData.forEach((p, i) => opts += `<option value="${i}">${i+1}ìœ„ ${p.name} (${p.elo})</option>`);Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  s1.innerHTML = opts;Â 
Â  Â  Â  Â  Â  Â  s2.innerHTML = opts;
Â  Â  Â  Â  Â  Â  if(sPen) sPen.innerHTML = opts;
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.addNewPlayer = () => { const name = prompt("ì´ë¦„:"); if(name) { rankingsData.push({ id: crypto.randomUUID(), name, wins:0, losses:0, defenseCount:0, previousRank: rankingsData.length+1, careerHighRank: rankingsData.length+1, elo: 1000, careerHighElo: 1000, lastMatchDate: new Date().toISOString().split('T')[0] }); saveRankings(); renderRankings(); } };
Â  Â  Â  Â Â 
Â  Â  Â  Â  // [Safety Checked + Password] openEditModal
Â  Â  Â  Â  window.openEditModal = (idx) => {Â 
Â  Â  Â  Â  Â  Â  const p = rankingsData[idx];Â 
Â  Â  Â  Â  Â  Â  const setVal = (id, val) => { const el = document.getElementById(id); if(el) el.value = val; };
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  setVal('editPlayerId', idx);
Â  Â  Â  Â  Â  Â  setVal('editName', p.name);
Â  Â  Â  Â  Â  Â  setVal('editOriginalName', p.name);
Â  Â  Â  Â  Â  Â  setVal('editDefenses', 0);
Â  Â  Â  Â  Â  Â  setVal('editGameId', p.gameId || '');
Â  Â  Â  Â  Â  Â  setVal('editPassword', p.password || '0000'); // [New] Load Password
Â  Â  Â  Â  Â  Â  setVal('editHeight', p.height || '');
Â  Â  Â  Â  Â  Â  setVal('editReach', p.reach || '');
Â  Â  Â  Â  Â  Â  setVal('editStance', p.stance || 'Orthodox');
Â  Â  Â  Â  Â  Â  setVal('editElo', p.elo || 1000);
Â  Â  Â  Â  Â  Â  setVal('editWins', p.wins || 0);
Â  Â  Â  Â  Â  Â  setVal('editLosses', p.losses || 0);
Â  Â  Â  Â  Â  Â  setVal('editImageUrl', p.imageUrl || '');
Â  Â  Â  Â  Â  Â  setVal('editImageFile', ''); // Reset input

Â  Â  Â  Â  Â  Â  const prevImg = document.getElementById('previewImage');
Â  Â  Â  Â  Â  Â  if(prevImg) prevImg.src = p.imageUrl || '';

Â  Â  Â  Â  Â  Â  renderStyleTags(p.tags || []);Â 
Â  Â  Â  Â  Â  Â  const modal = document.getElementById('editModal');
Â  Â  Â  Â  Â  Â  if(modal) modal.classList.remove('hidden');
Â  Â  Â  Â  };

Â  Â  Â  Â  function renderStyleTags(cT) { const c = document.getElementById('styleTagsContainer'); if(!c) return; c.innerHTML = ''; STYLE_OPTIONS.forEach(s => { const id = `style-${s}`; c.innerHTML += `<div><input type="checkbox" id="${id}" value="${s}" class="style-checkbox hidden" ${cT.includes(s)?'checked':''}><label for="${id}" class="inline-block px-3 py-1 text-xs font-bold border border-slate-300 rounded-full cursor-pointer text-slate-500 hover:bg-slate-100 transition select-none ${cT.includes(s)?'bg-blue-500 text-white border-blue-500':''}">${s}</label></div>`; }); }
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.savePlayerDetails = () => {Â 
Â  Â  Â  Â  Â  Â  const idInput = document.getElementById('editPlayerId');
Â  Â  Â  Â  Â  Â  if(!idInput) return;
Â  Â  Â  Â  Â  Â  const idx = idInput.value;Â 
Â  Â  Â  Â  Â  Â  const p = rankingsData[idx];Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const getVal = (id) => document.getElementById(id) ? document.getElementById(id).value : '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  p.name = getVal('editName');Â 
Â  Â  Â  Â  Â  Â  p.defenseCount = 0;Â 
Â  Â  Â  Â  Â  Â  p.imageUrl = getVal('editImageUrl');Â 
Â  Â  Â  Â  Â  Â  p.gameId = getVal('editGameId');Â 
Â  Â  Â  Â  Â  Â  p.password = getVal('editPassword'); // [New] Save Password
Â  Â  Â  Â  Â  Â  p.height = getVal('editHeight');Â 
Â  Â  Â  Â  Â  Â  p.reach = getVal('editReach');Â 
Â  Â  Â  Â  Â  Â  p.stance = getVal('editStance');Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  p.elo = parseInt(getVal('editElo'))||1000;Â 
Â  Â  Â  Â  Â  Â  if(p.elo > (p.careerHighElo || 0)) p.careerHighElo = p.elo; // Update Career High
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  p.wins = parseInt(getVal('editWins'))||0;Â 
Â  Â  Â  Â  Â  Â  p.losses = parseInt(getVal('editLosses'))||0;Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const ct = document.querySelectorAll('.style-checkbox:checked');Â 
Â  Â  Â  Â  Â  Â  p.tags = Array.from(ct).map(cb => cb.value);Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  rankingsData.sort((a, b) => b.elo - a.elo);Â 
Â  Â  Â  Â  Â  Â  saveRankings();Â 
Â  Â  Â  Â  Â  Â  const modal = document.getElementById('editModal');
Â  Â  Â  Â  Â  Â  if(modal) modal.classList.add('hidden');
Â  Â  Â  Â  Â  Â  renderRankings();Â 
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.backupData = () => { const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify({ rankings: rankingsData, history: matchHistoryData, archives: seasonArchives, activeSeason: activeSeason }, null, 2)); const dl = document.createElement('a'); dl.setAttribute("href", dataStr); dl.setAttribute("download", `RFC_BACKUP_${new Date().toISOString().slice(0,10)}.json`); document.body.appendChild(dl); dl.click(); dl.remove(); };
Â  Â  Â  Â  document.getElementById('importFile').addEventListener('change', function(e) { const file = e.target.files[0]; if (!file) return; if (!confirm("ë³µì›í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return; const reader = new FileReader(); reader.onload = function(e) { try { const data = JSON.parse(e.target.result); if (data.rankings) { rankingsData = data.rankings; matchHistoryData = data.history || []; seasonArchives = data.archives || {}; activeSeason = data.activeSeason || activeSeason; saveRankings(); renderRankings(); alert("ë³µì› ì™„ë£Œ"); } } catch (err) { alert("ì˜¤ë¥˜"); } }; reader.readAsText(file); });
Â  Â  </script>
</body>
</html>

